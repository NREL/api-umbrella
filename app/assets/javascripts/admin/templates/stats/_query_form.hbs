<form id="filter_form" action="#" method="get" {{action 'submit' on='submit'}}>
  <div class="row-fluid">
    <div class="span5 advanced-filter">
      <div id="search_field">
        <div class="input-append">
          <input type="text" name="search" class="input-xlarge" placeholder="Advanced filters..." {{bind-attr value='query.params.search'}} />
          <button class="btn btn-small" type="submit">Filter</button>
        </div>
        <span class="help-block">Advanced filters use <a href="#query_syntax_help_content" rel="popover">Lucene's Query Syntax</a>.</span>
        <div id="query_syntax_help_content" style="display: none;">
          <p>Use <a href="http://www.lucenetutorial.com/lucene-query-syntax.html" target="_blank">Lucene's query syntax</a> to perform complex queries.</p>
          <p>Example:</p>
          <pre>request_method:"POST" AND response_status:[400 TO *]</pre>
          <p>Available Fields:</p>
          <table class="table table-condensed query-syntax-help">
            <thead>
              <tr>
                <th>Field</th>
                <th class="example">Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>request_at</td>
                <td class="example">2013-11-06T20:02:53.752Z</td>
              </tr>
              <tr>
                <td>request_method</td>
                <td class="example">GET</td>
              </tr>
              <tr>
                <td>request_url</td>
                <td class="example">http://api.data.gov/nrel/alt-fuel-stations/v1.json?limit=2</td>
              </tr>
              <tr>
                <td>request_scheme</td>
                <td class="example">http</td>
              </tr>
              <tr>
                <td>request_host</td>
                <td class="example">api.data.gov</td>
              </tr>
              <tr>
                <td>request_path</td>
                <td class="example">/nrel/alt-fuel-stations/v1.json</td>
              </tr>
              <tr>
                <td>request_path_hierarchy</td>
                <td class="example">/nrel/alt-fuel-stations/v1</td>
              </tr>
              <tr>
                <td>request_user_agent</td>
                <td class="example">curl/7.33.0</td>
              </tr>
              <tr>
                <td>request_user_agent_type</td>
                <td class="example">Library</td>
              </tr>
              <tr>
                <td>request_user_agent_family</td>
                <td class="example">cURL</td>
              </tr>
              <tr>
                <td>request_accept_encoding</td>
                <td class="example">deflate, gzip</td>
              </tr>
              <tr>
                <td>request_ip</td>
                <td class="example">93.184.216.119</td>
              </tr>
              <tr>
                <td>request_ip_country</td>
                <td class="example">US</td>
              </tr>
              <tr>
                <td>request_ip_region</td>
                <td class="example">CO</td>
              </tr>
              <tr>
                <td>request_ip_city</td>
                <td class="example">Golden</td>
              </tr>
              <tr>
                <td>request_ip_location.lat</td>
                <td class="example">39.7555</td>
              </tr>
              <tr>
                <td>request_ip_location.lon</td>
                <td class="example">-105.2211</td>
              </tr>
              <tr>
                <td>response_status</td>
                <td class="example">200</td>
              </tr>
              <tr>
                <td>response_content_type</td>
                <td class="example">application/json; charset=utf-8</td>
              </tr>
              <tr>
                <td>response_content_encoding</td>
                <td class="example">gzip</td>
              </tr>
              <tr>
                <td>response_transfer_encoding</td>
                <td class="example">chunked</td>
              </tr>
              <tr>
                <td>response_server</td>
                <td class="example">nginx/1.4.2</td>
              </tr>
              <tr>
                <td>api_key</td>
                <td class="example">DEMO_KEY</td>
              </tr>
              <tr>
                <td>user_email</td>
                <td class="example">demo.api_keys@data.gov</td>
              </tr>
              <tr>
                <td>user_id</td>
                <td class="example">ad2d94b6-e0f8-4e26-b1a6-1bc6b12f3d76</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="span7 filter-times">
      {{#if view.enableInterval}}
        <div id="interval_buttons" class="btn-group" data-toggle="buttons-radio">
          <button type="button" class="btn btn-mini" value="minute" {{action 'clickInterval' 'minute' target='view'}}>Minute</button>
          <button type="button" class="btn btn-mini" value="hour" {{action 'clickInterval' 'hour' target='view'}}>Hour</button>
          <button type="button" class="btn btn-mini" value="day" {{action 'clickInterval' 'day' target='view'}}>Day</button>
          <button type="button" class="btn btn-mini" value="week" {{action 'clickInterval' 'week' target='view'}}>Week</button>
          <button type="button" class="btn btn-mini" value="month" {{action 'clickInterval' 'month' target='view'}}>Month</button>
        </div>
      {{/if}}

      <div id="reportrange" class="pull-right">
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
          <i class="icon-calendar icon-large"></i>
          <span class="text"></span>
          <span class="caret"></span>
        </a>
      </div>
    </div>
  </div>
</form>

